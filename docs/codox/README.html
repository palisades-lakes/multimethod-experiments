<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>multimethod-experiments </title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">multimethod-experiments</span> <span class="project-version">0.0.7</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="README.html"><div class="inner"><span>multimethod-experiments </span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="palisades.lakes.dynalin.core.html"><div class="inner"><span>palisades.lakes.dynalin.core</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.dynamap.core.html"><div class="inner"><span>palisades.lakes.dynamap.core</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.dynest.core.html"><div class="inner"><span>palisades.lakes.dynest.core</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.dynafun.html"><div class="inner"><span>palisades.lakes.multix.r2.dynafun</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.dynalin.html"><div class="inner"><span>palisades.lakes.multix.r2.dynalin</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.dynamap.html"><div class="inner"><span>palisades.lakes.multix.r2.dynamap</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.dynest.html"><div class="inner"><span>palisades.lakes.multix.r2.dynest</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.hashmaps.html"><div class="inner"><span>palisades.lakes.multix.r2.hashmaps</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.instancefn.html"><div class="inner"><span>palisades.lakes.multix.r2.instancefn</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.multi.html"><div class="inner"><span>palisades.lakes.multix.r2.multi</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.nohierarchy.html"><div class="inner"><span>palisades.lakes.multix.r2.nohierarchy</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.protocols.html"><div class="inner"><span>palisades.lakes.multix.r2.protocols</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.r2.signatures.html"><div class="inner"><span>palisades.lakes.multix.r2.signatures</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.dynafun.html"><div class="inner"><span>palisades.lakes.multix.sets.dynafun</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.dynalin.html"><div class="inner"><span>palisades.lakes.multix.sets.dynalin</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.dynamap.html"><div class="inner"><span>palisades.lakes.multix.sets.dynamap</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.dynest.html"><div class="inner"><span>palisades.lakes.multix.sets.dynest</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.hashmaps.html"><div class="inner"><span>palisades.lakes.multix.sets.hashmaps</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.instancefn.html"><div class="inner"><span>palisades.lakes.multix.sets.instancefn</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.multi.html"><div class="inner"><span>palisades.lakes.multix.sets.multi</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.nohierarchy.html"><div class="inner"><span>palisades.lakes.multix.sets.nohierarchy</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.protocols.html"><div class="inner"><span>palisades.lakes.multix.sets.protocols</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.signature.html"><div class="inner"><span>palisades.lakes.multix.sets.signature</span></div></a></li><li class="depth-1 "><a href="palisades.lakes.multix.sets.signatures.html"><div class="inner"><span>palisades.lakes.multix.sets.signatures</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#multimethod-experiments" name="multimethod-experiments"></a>multimethod-experiments</h1>
<p><a href="https://clojars.org/palisades-lakes/multimethod-experiments"><img src="https://img.shields.io/clojars/v/palisades-lakes/multimethod-experiments.svg" alt="Clojars Project" /></a></p>
<p>This repository is intended as something like reproducible research, to document in detail what led to 2 libraries:</p>
<ul>
  <li>
  <p><a href="https://github.com/palisades-lakes/faster-multimethods">faster-multimethods</a>: a faster backwards-compatible alternative to the Clojure 1.8.0 implementation,</p></li>
  <li>
  <p><a href="https://github.com/palisades-lakes/dynamic-functions">dynamic-functions</a>: not backwards compatible, more restricted than Clojure multimethods, but faster still.</p></li>
</ul>
<p>Clojure provides about a dozen competing variations on ‘object-oriented’ or ‘polymorphic’ functionality, including: <code>definterface</code>, <code>defmulti</code>/<code>defmethod</code>, multi-arity <code>defn</code>, <code>defprotocol</code>, <code>defrecord</code>, <code>defstruct</code>, <code>deftype</code>, <code>gen-class</code>, <code>reify</code>, and <code>proxy</code>. See Chas Emerick’s <a href="https://cemerick.com/2011/07/05/flowchart-for-choosing-the-right-clojure-type-definition-form/">Flowchart for choosing the right Clojure type definition form</a> for a comparison and evaluation of when to use which. (Note that it doesn’t include <code>defmulti</code>/<code>defmethod</code>.)</p>
<p>Of the non-deprecated ones, <code>defmulti</code>/<code>defmethod</code> seems to one of the least used (though I have no hard data for that). This may in part be due to the general advice on the web, which is to use <code>defprotocol</code> rather than <code>defmulti</code>, because <code>defmutli</code> is ‘slow’ by comparison.</p>
<p>The motivation for this project was, first, to create some realistic enough benchmarks (at least for the kinds of problems I work on) to measure the cost of using <code>defmulti</code> versus various alternatives. Second, I wanted to understand the current Clojure implementation. Third, I was curious whether significant performance improvements can be achieved with small changes to the existing implementation, provided as a library layered on top of Clojure, or would compiler level changes be required.</p>
<p>For general background on generic functions (aka multimethods), from my perspective, see <a href="docs/generic_functions.html">generic_functions</a>.</p>
<p>For notes on the Clojure 1.8.0 implementation, see <a href="docs/implementation_notes_1.8.0.html">Clojure 1.8.0 multimethods</a>.</p>
<p>For descriptions of the current benchmarks, and results, see <a href="docs/benchmarks.html">benchmarks</a>.</p>
<h2><a href="#installation" name="installation"></a>Installation</h2>
<p>Clone the repository and build from source using Maven, for example: </p>
<pre><code>mvn package
</code></pre>
<h2><a href="#license" name="license"></a>License</h2>
<p>Copyright © 2017 John Alan McDonald <palisades dot="" lakes="" at="" gmail="" com=""></palisades></p>
<p><a href="LICENSE">Apache 2.0</a></p>
<h2><a href="#acknowledgments" name="acknowledgments"></a>Acknowledgments</h2>
<h3><a href="#yourkit" name="yourkit"></a><img src="https://www.yourkit.com/images/yklogo.png" alt="Yourkit" /></h3>
<p>YourKit is kindly supporting open source projects with its full-featured Java Profiler.</p>
<p>YourKit, LLC is the creator of innovative and intelligent tools for profiling Java and .NET applications. Take a look at YourKit’s leading software products:</p>
<ul>
  <li><a href="http://www.yourkit.com/java/profiler/index.jsp">YourKit Java Profiler</a> and</li>
  <li><a href="http://www.yourkit.com/.net/profiler/index.jsp">YourKit .NET Profiler</a>.</li>
</ul></div></div></div></body></html>